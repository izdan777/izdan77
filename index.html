<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>My Personal Portal</title>

  <!-- PWA -->
  <link rel="manifest" href="manifest.json">

  <link rel="stylesheet" href="style.css"/>
</head>
<body>

<!-- üîê PIN LOCK SCREEN -->
<div id="lockScreen" class="lock-screen">
  <div class="lock-card">
    <h2>üîê Enter PIN</h2>
    <input type="password" id="pinInput" maxlength="4" inputmode="numeric" placeholder="4-digit PIN">
    <div class="lock-actions">
      <button onclick="checkPIN()">Enter</button>
      <button class="cancel" onclick="cancelApp()">Cancel</button>
    </div>
    <p id="pinError" class="pin-error"></p>
  </div>
</div>

<!-- üîì MAIN APP -->
<div id="app" class="app hidden">

  <div class="top-nav">
    <div class="logo">My Portal</div>
    <div class="menu-btn" onclick="toggleMenu()">‚ò∞</div>

    <div class="nav-links" id="navLinks">
      <button onclick="showPage('documents')">Documents</button>
      <button onclick="showPage('events')">Events</button>
      <button onclick="showPage('todo')">To-Do</button>
      <button onclick="showPage('finance')">Finance</button>
      <button onclick="showPage('medical')">Medical</button>
      <button onclick="showPage('birthdays')">Birthdays</button>
      <button onclick="showPage('gifts')">Gifts</button>
    </div>
  </div>

  <div class="content">

    <!-- DOCUMENTS PAGE -->
    <div id="documents" class="page active">
      <h2>üìÅ Documents</h2>

      <div class="doc-tabs">
        <button class="doc-tab active" onclick="showDocTab(event,'identity')">Identity</button>
        <button class="doc-tab" onclick="showDocTab(event,'family')">Family</button>
        <button class="doc-tab" onclick="showDocTab(event,'property')">Property</button>
        <button class="doc-tab" onclick="showDocTab(event,'work')">Work & Education</button>
      </div>

      <div id="identity" class="doc-page active" data-empty="false">
        <div class="doc-header">
          <div>No.</div><div>Details</div><div>View</div>
        </div>
        <div class="doc-row">
          <div>1</div><div>National ID Card</div>
          <button onclick="viewPDF('p1.pdf')">View</button>
        </div>
        <div class="doc-row">
          <div>2</div><div>Passport</div>
          <button onclick="viewPDF('p1.pdf')">View</button>
        </div>
      </div>

      <div id="family" class="doc-page" data-empty="true">
        <div class="empty-msg">No family documents added.</div>
      </div>

      <div id="property" class="doc-page" data-empty="true">
        <div class="empty-msg">No property documents added.</div>
      </div>

      <div id="work" class="doc-page" data-empty="true">
        <div class="empty-msg">No work & education documents added.</div>
      </div>
    </div>

    <div id="events" class="page"><h2>üìÖ Events</h2></div>
    <div id="todo" class="page">
      <h2>‚úÖ To-Do</h2>
    
      <!-- Add Button -->
      <button class="add-btn" onclick="openTodoBox()">+ Add Task</button>
    
      <!-- Add Task Box -->
      <div id="todoBox" class="todo-box hidden">
        <input type="text" id="todoInput" placeholder="Enter task description">
        <p id="todoError" class="error-text"></p>
        <div class="todo-actions">
          <button onclick="submitTodo()">Submit</button>
          <button class="cancel" onclick="closeTodoBox()">Cancel</button>
        </div>
      </div>
    
      <!-- To-Do Table -->
      <div class="todo-header">
        <div>#</div>
        <div>Description</div>
        <div>Edit</div>
        <div>Done</div>
      </div>
    
      <div id="todoList"></div>
    </div>
    
    <div id="finance" class="page">
  <h2>üí∞ Finance</h2>

  <!-- Finance Tabs -->
  <div class="doc-tabs">
    <button class="doc-tab active" onclick="showFinanceTab(event,'loans')">Loans</button>
    <button class="doc-tab" onclick="showFinanceTab(event,'payables')">Payables</button>
  </div>

  <!-- LOANS -->
  <div id="loans" class="finance-page active">
    <div class="finance-header">
      <div>Loan Description</div>
      <div>Amount</div>
    </div>

    <div class="finance-row">
      <div>Vashaafaaru and Cyk Maraamaathu</div>
      <div>MVR 5,600.00</div>
    </div>
  </div>

  <!-- PAYABLES -->
  <div id="payables" class="finance-page">
    <div class="finance-header">
      <div>Payable Description</div>
      <div>Amount</div>
    </div>

    <div class="finance-row">
      <div>Mamma</div>
      <div>MVR 1,661.65</div>
    </div>

    <div class="finance-row">
      <div>Club Amigos</div>
      <div>MVR 11,999.44</div>
    </div>
  </div>
</div>

    <div id="medical" class="page"><h2>üè• Medical</h2></div>

    <div id="birthdays" class="page">
  <h2>üéÇ Birthdays</h2>

  <!-- Month Filter -->
  <div class="birthday-filter">
    <label for="monthSelect">Show:</label>
    <select id="monthSelect" onchange="filterBirthdays()">
      <option value="all">All Months</option>
      <option value="JANUARY">JANUARY</option>
      <option value="FEBRUARY">FEBRUARY</option>
      <option value="MARCH">MARCH</option>
      <option value="APRIL">APRIL</option>
      <option value="MAY">MAY</option>
      <option value="JUNE">JUNE</option>
      <option value="JULY">JULY</option>
      <option value="AUGUST">AUGUST</option>
      <option value="SEPTEMBER">SEPTEMBER</option>
      <option value="OCTOBER">OCTOBER</option>
      <option value="NOVEMBER">NOVEMBER</option>
      <option value="DECEMBER">DECEMBER</option>
    </select>
  </div>

  <!-- JANUARY -->
  <div class="birthday-month" data-month="JANUARY">
    <h3>JANUARY</h3>
    <table class="birthday-table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Date of Birth</th>
          <th>Age</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Abbas Ibrahim</td>
          <td>01.01.1974</td>
          <td>51</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- FEBRUARY -->
  <div class="birthday-month" data-month="FEBRUARY">
    <h3>FEBRUARY</h3>
    <table class="birthday-table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Date of Birth</th>
          <th>Age</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Ifhaam Abbas</td>
          <td>01.02.2010</td>
          <td>15</td>
        </tr>
        <tr>
          <td>Izdan Bin Hassan Jaufar</td>
          <td>10.02.2022</td>
          <td>3</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- MARCH -->
  <div class="birthday-month" data-month="MARCH">
    <h3>MARCH</h3>
    <table class="birthday-table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Date of Birth</th>
          <th>Age</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Aishath Naajiyaa</td>
          <td>21.03.1998</td>
          <td>27</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- APRIL -->
  <div class="birthday-month empty" data-month="APRIL">
    <h3>APRIL</h3>
    <p class="empty-msg">No birthdays in this month.</p>
  </div>

  <!-- MAY -->
  <div class="birthday-month" data-month="MAY">
    <h3>MAY</h3>
    <table class="birthday-table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Date of Birth</th>
          <th>Age</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Mariyam Anjum Binth Nashid</td>
          <td>01.05.2012</td>
          <td>13</td>
        </tr>
        <tr>
          <td>Mariyam Rifla</td>
          <td>06.05.1990</td>
          <td>35</td>
        </tr>
        <tr>
          <td>Aydhin Bin Ahmed Nashid</td>
          <td>10.05.2017</td>
          <td>8</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- JUNE -->
  <div class="birthday-month" data-month="JUNE">
    <h3>JUNE</h3>
    <table class="birthday-table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Date of Birth</th>
          <th>Age</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Yoosuf Zayyan Hussain Shibau</td>
          <td>13.06.2009</td>
          <td>16</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- JULY -->
  <div class="birthday-month" data-month="JULY">
    <h3>JULY</h3>
    <table class="birthday-table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Date of Birth</th>
          <th>Age</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Ifza Binth Abbas</td>
          <td>06.07.2020</td>
          <td>5</td>
        </tr>
        <tr>
          <td>Asifa Ali</td>
          <td>14.07.1984</td>
          <td>41</td>
        </tr>
        <tr>
          <td>Fathimath Insha Abbas</td>
          <td>15.07.2007</td>
          <td>18</td>
        </tr>
        <tr>
          <td>Ehan Bin Abbas</td>
          <td>16.07.2017</td>
          <td>8</td>
        </tr>
        <tr>
          <td>Aminath Athika</td>
          <td>28.07.1979</td>
          <td>46</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- AUGUST -->
  <div class="birthday-month empty" data-month="AUGUST">
    <h3>AUGUST</h3>
    <p class="empty-msg">No birthdays in this month.</p>
  </div>

  <!-- SEPTEMBER -->
  <div class="birthday-month" data-month="SEPTEMBER">
    <h3>SEPTEMBER</h3>
    <table class="birthday-table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Date of Birth</th>
          <th>Age</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Ali Mohamed</td>
          <td>07.09.1945</td>
          <td>80</td>
        </tr>
        <tr>
          <td>Aishath Rizla</td>
          <td>15.09.1986</td>
          <td>39</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- OCTOBER -->
  <div class="birthday-month" data-month="OCTOBER">
    <h3>OCTOBER</h3>
    <table class="birthday-table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Date of Birth</th>
          <th>Age</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Aishath Athifa</td>
          <td>11.10.1971</td>
          <td>54</td>
        </tr>
        <tr>
          <td>Rugiyya Ahmed</td>
          <td>22.10.1947</td>
          <td>78</td>
        </tr>
        <tr>
          <td>Hassan Jaufar</td>
          <td>30.10.1985</td>
          <td>40</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- NOVEMBER -->
  <div class="birthday-month empty" data-month="NOVEMBER">
    <h3>NOVEMBER</h3>
    <p class="empty-msg">No birthdays in this month.</p>
  </div>

  <!-- DECEMBER -->
  <div class="birthday-month empty" data-month="DECEMBER">
    <h3>DECEMBER</h3>
    <p class="empty-msg">No birthdays in this month.</p>
  </div>
</div>

<!-- GIFTS PAGE -->
<div id="gifts" class="page">
  <h2>üéÅ Gift List</h2>

  <!-- Add Gift Input -->
  <div class="gift-add">
    <input type="text" id="giftNameInput" placeholder="Enter gift recipient name">
    <button onclick="addGiftFromInput()">Add Gift</button>
  </div>

  <!-- Filter -->
  <div class="gift-filter">
    <label for="giftFilter">Show:</label>
    <select id="giftFilter" onchange="filterGifts()">
      <option value="all">All</option>
      <option value="pending">Pending</option>
      <option value="completed">Completed</option>
    </select>
  </div>

  <!-- Gift Table -->
  <table class="gift-table">
    <thead>
      <tr>
        <th>#</th>
        <th>Name</th>
        <th>Toggle</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody id="giftList">
      <!-- Gifts will be loaded from Firebase -->
    </tbody>
  </table>
</div>




  </div>
</div>
<!-- Firebase v8 SDK -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script src="script.js"></script>
</body>
</html>
